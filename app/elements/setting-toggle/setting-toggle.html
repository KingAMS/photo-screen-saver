<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-styles/paper-styles.html">
<link rel="import" href="../../bower_components/iron-localstorage/iron-localstorage.html">
<link rel="import" href="../../bower_components/iron-flex-layout/classes/iron-flex-layout.html">
<link rel="import" href="../../bower_components/iron-label/iron-label.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-item/paper-item-body.html">
<link rel="import" href="../../bower_components/paper-ripple/paper-ripple.html">
<link rel="import" href="../../bower_components/paper-toggle-button/paper-toggle-button.html">

<dom-module id="setting-toggle">
	<template>
		<style include="shared-styles"></style>
		<style>

			:host {
				display: block;
				position: relative;
			}

			:host([disabled]) {
				pointer-events: none;
			}

			:host iron-label {
				display: block;
				position: relative;
				cursor: pointer;
			}

		</style>

		<div class="section-title setting-label" tabindex="-1" hidden$="[[!sectionTitle]]">{{sectionTitle}}</div>

		<iron-label for="toggle">
			<paper-item class="center horizontal layout" tabindex="-1">
				<paper-item-body id="paperItemBody" class="flex" two-line>
					<div class="setting-label" hidden$="[[!mainLabel]]">{{mainLabel}}</div>
					<div class="setting-label" secondary hidden$="[[!secondaryLabel]]">{{secondaryLabel}}</div>
					<paper-ripple center></paper-ripple>
				</paper-item-body>
				<paper-toggle-button id="toggle" checked="{{value}}" disabled$="[[disabled]]"></paper-toggle-button>
			</paper-item>
		</iron-label>
		<hr hidden$="[[noseparator]]" />
		<iron-localstorage name="{{name}}" value="{{value}}" on-iron-localstorage-load-empty="_init"></iron-localstorage>

	</template>
</dom-module>

<script>
'use-strict';

	Polymer({
		is: 'setting-toggle',

		hostAttributes: {
			role: 'group',
			tabIndex: -1
		},

		properties: {

			name: {
				type: String,
				value: 'store'
			},

			mainLabel: {
				type: String,
				value: ''
			 },

			secondaryLabel: {
				type: String,
				value: ''
			},

			sectionTitle: {
				type: String,
				value: ''
			},

			noseparator: {
				type: Boolean,
				value: false
			}

		},

		// initialize value if it is not in localstorage
		_init: function() {
			this.set('value', 'false');
		}

	});
</script>
